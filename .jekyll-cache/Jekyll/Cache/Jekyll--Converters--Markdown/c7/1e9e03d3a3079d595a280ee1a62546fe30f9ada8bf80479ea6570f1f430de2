I"r	<p>Oracle SQL 定義變數</p>

<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">VARIABLE</span> <span class="n">po_header_ids</span> <span class="n">VARCHAR2</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span>

<span class="k">BEGIN</span>
  <span class="p">:</span><span class="n">po_header_ids</span> <span class="p">:</span><span class="o">=</span> <span class="s1">'1,2,3'</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
<span class="o">/</span>

<span class="k">SELECT</span> <span class="n">PHA</span><span class="p">.</span><span class="n">SEGMENT1</span>
<span class="k">FROM</span>   <span class="n">PO</span><span class="p">.</span><span class="n">PO_HEADERS_ALL</span> <span class="n">PHA</span>
<span class="k">WHERE</span>  <span class="p">:</span><span class="n">po_header_ids</span> <span class="o">=</span> <span class="s1">'0'</span>
<span class="k">OR</span>     <span class="p">:</span><span class="n">po_header_ids</span> <span class="k">IS</span> <span class="k">NULL</span>
<span class="k">OR</span>     <span class="n">PHA</span><span class="p">.</span><span class="n">PO_HEADER_ID</span> <span class="k">IN</span> <span class="p">(</span>
         <span class="k">SELECT</span> <span class="n">TO_NUMBER</span><span class="p">(</span><span class="n">regexp_substr</span><span class="p">(:</span><span class="n">po_header_ids</span><span class="p">,</span><span class="s1">'[^,]+'</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="k">level</span><span class="p">))</span>
         <span class="k">FROM</span>   <span class="n">dual</span>
         <span class="k">CONNECT</span> <span class="k">BY</span>
                <span class="n">regexp_substr</span><span class="p">(:</span><span class="n">po_header_ids</span> <span class="p">,</span><span class="s1">'[^,]+'</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="k">level</span><span class="p">)</span> <span class="k">IS</span> <span class="k">NOT</span> <span class="k">NULL</span>
       <span class="p">);</span>
</code></pre></div></div>

<p>參考資料：
<a href="https://stackoverflow.com/questions/72853678/declare-bind-variable-in-the-oracle-sql-developer">Declare bind variable in the Oracle SQL Developer</a></p>
:ET